DOCKER_USERNAME ?= hcms
APPLICATION_PATIENT_NAME ?= patient
APPLICATION_STAFF_NAME ?= staff
APPLICATION_SCHEDULE_NAME ?= schedule

build:
	docker build --tag ${DOCKER_USERNAME}/${APPLICATION_PATIENT_NAME} .
	docker build --tag ${DOCKER_USERNAME}/${APPLICATION_STAFF_NAME} .
	docker build --tag ${DOCKER_USERNAME}/${APPLICATION_SCHEDULE_NAME} .

run:
	echo "${APPLICATION_PATIENT_NAME} will run on 3000 port"
	echo "${APPLICATION_STAFF_NAME} will run on 3001 port"
	echo "${APPLICATION_SCHEDULE_NAME} will run on 3002 port"
	docker run -ti -d -p 3000:3000 ${DOCKER_USERNAME}/${APPLICATION_PATIENT_NAME}
	docker run -ti -d -p 3000:3001 ${DOCKER_USERNAME}/${APPLICATION_STAFF_NAME}
	docker run -ti -d -p 3000:3002 ${DOCKER_USERNAME}/${APPLICATION_SCHEDULE_NAME}